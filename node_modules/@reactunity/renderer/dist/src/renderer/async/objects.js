var ObjectsRepo = /** @class */ (function () {
    function ObjectsRepo() {
        var _this = this;
        this.indices = [{}];
        this.objects = new WeakMap();
        this.setObject = function (index, item) {
            var it = _this.indices[index];
            if (!it) {
                it = _this.indices[index] = {};
            }
            _this.objects.set(it, item);
        };
        this.addObject = function (item) {
            if (!item)
                return -1;
            var it = {};
            var ind = _this.indices.length;
            _this.indices.push(it);
            _this.objects.set(it, item);
            return ind;
        };
        this.getObject = function (index) {
            if (index < 0)
                return undefined;
            var it = _this.indices[index];
            return _this.objects.get(it);
        };
    }
    return ObjectsRepo;
}());
export { ObjectsRepo };
